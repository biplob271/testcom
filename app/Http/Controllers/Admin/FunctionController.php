<?php
 namespace App\Http\Controllers\Admin; use App\Http\Controllers\Controller; use Illuminate\Http\Request; use App\Models\AssignFee; use App\Models\Fee; use App\Models\SMS; use App\Models\Studentfile; class FunctionController extends Controller { public static function calculFees($id) { $calculFees = AssignFee::where("\x63\x6c\x61\163\x73", $id)->get()->first(); return $calculFees; } public static function sifInfo($sif) { $sifInfo = Studentfile::where("\163\x69\x66", $sif)->get()->first(); return $sifInfo; } public static function Send($to, $body, $route) { $smsGty = SMS::get()->first(); $url = $smsGty->gateway_url; $parameters = array("\141\160\151\137\x6b\x65\x79" => $smsGty->api_key, "\146\x72\x6f\155\137\x74\171\x70\x65" => $smsGty->sms_type, "\164\157\x5f\x6e\x75\x6d\142\x65\162\x73" => $to, "\x73\x65\x6e\144\145\162\151\x64" => $smsGty->sender_id, "\142\157\144\171" => $body); $parameters = http_build_query($parameters); $gateway_url = $url . "\x3f" . $parameters; $client = new \GuzzleHttp\Client(array("\x76\x65\x72\151\x66\x79" => false)); $response = $client->get($gateway_url); return redirect()->route($route)->with("\163\165\143\x63\145\163\163", "\123\115\x53\40\x53\x65\156\x64\40\x53\165\143\x63\x65\x73\163\146\x75\154\x6c\x79"); } }